<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/list.css" />
	</head>
	<body>		
		<div class="wrap">
			<div class="wrap-hd clearfix">
				<form id="searchForm">
					<div class="item clearfix">
						<div class="key">姓名：</div>
						<div class="value">
							<input class="inp-text" type="text" name="userName" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">年龄：</div>
						<div class="value">
							<input class="inp-text" type="text" name="userAge" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">性别：</div>
						<div class="value">
							<input class="inp-radio" type="radio" name="userSex" value="0"/>男
							<input class="inp-radio" type="radio" name="userSex" value="1" />女
						</div>
					</div>
				</form>
				<div class="item clearfix">
					<button class="btn" type="button">搜索</button>
					<button class="btn" id="addBtn" type="button">新增</button>
					<button class="btn" id="delBtn" type="button">删除</button>
				</div>
			</div>
			
	<script type="text/javascript" src="js/jquery-1.11.1.js" ></script>
	<script type="text/javascript" src="js/underscore-min.js" ></script>	
	<!--<script type="text/template">-->
		
		
		
	<table class="wrap-bd" border="1">
				<tbody><tr>
					<th><input type="checkbox" id="allChoose"></th>
					<th>姓名</th>
					<th>年龄</th>
					<th>性别</th>
					<th>籍贯</th>
					<th>身份证号码</th>
					<th>手机号码</th>
					<th>职业</th>
					<th>操作</th>
				</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>张三</td>
		<td>18</td>
		<td> 
			 
				男
			
		
			
		
		</td>
		<td>汉族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>学生</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>李四</td>
		<td>22</td>
		<td> 
			
		
			 
				女
			
		
		</td>
		<td>白族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>工人</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>王五</td>
		<td>28</td>
		<td> 
			 
				男
			
		
			
		
		</td>
		<td>苗族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>企业家</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>赵六</td>
		<td>24</td>
		<td> 
			
		
			 
				女
			
		
		</td>
		<td>土家族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>主持人</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

			</tbody>
			</table>	
			
				
		</div>
<!--		
		</script>-->
		
		
		
		
	<!--<script>
		var url='C:\Users\lx\Desktop\data-process\data-process\demo-初始版本\json'
		$.get(url,function(str){
			console.log(str)
		})
	</script>-->
		<script type="text/html" id="addHtml">
			<form>
				<div class="item clearfix">
					<div class="key">姓名：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">年龄：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">性别：</div>
					<div class="value">
						<input class="inp-radio" type="radio" name="userSex" value="0"/>男
						<input class="inp-radio" type="radio" name="userSex" value="1" />女
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">籍贯：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">身份证号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">手机号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">职业：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<button class="btn submitBtn" id="submitBtn" type="button">提交</button>
				</div>
			</form>
		</script>
		

		<script type="text/javascript" src="js/jquery.min.js" ></script>
		<script type="text/javascript" src="js/template.js" ></script>
		<script type="text/javascript" src="js/box.js" ></script>
		<!--<script type="text/javascript" src="js/utils.js" ></script>-->
		<!--<script type="text/javascript" src="js/list.js" ></script>-->
	</body>
</html>
<script>
	var zack=true;
	$(function(){

		
		
		//添加
		$('#addBtn').click(function(){
			
			if(!zack){
				return
			}
			zack=false;
			
			var a=$('#addHtml').html();
		

			$('body').append($(a));
//			console.log($(a))
			$('#submitBtn').click(function(){
//			console.log('我进来了')
				//var b=$('.inp-text:eq(2)')	;//console.log(b);//console.log(this)
			var name=$('.inp-text:eq(2)').val();	//console.log(name);	
			var age=$('.inp-text:eq(3)').val();//console.log(age)
			var sex=$('.inp-text:eq(3)').parent().parent().parent().find('.inp-radio:checked').index();//console.log(sex)//0 1
			var jiguan=$('.inp-text:eq(4)').val();//console.log(jiguan)
			var id=$('.inp-text:eq(5)').val();
			var phone=$('.inp-text:eq(6)').val();
			var job=$('.inp-text:eq(7)').val();//console.log(job)
			if(sex==0){
				sex='男'
			}else{
				sex=='女'
			}
			var obj = {
        		name: name,
                age: age,
                sex: sex,
                jiguan:jiguan,
                id:id,
                phone:phone,
                job:job,
          }
			var str='';
			str+='<tr><td><input type="checkbox"></td>';
	    	for(var k in obj){	
	        	str+='<td>';
				str+=obj[k];
				str+='</td>';
			}str+='<td><button id="updateBtn" type="button">修改</button><button id="delBtn" type="button">删除</button></td></tr>';
			$('tbody').append(str);	

				zack=true;
			
			$('form:eq(1)').remove();

			})
			
			
			})
		//全选反选择 未完成
			$('#allChoose').click(function(){//console.log('hah')
			var a=$('#allChoose').prop('checked');
			$('tbody input:gt(0)').prop('checked',a);
			})
		
			$('.choose').click(function(){//console.log($('tbody input:gt(0)'))
			var b=$('.choose').length;
			var c=$('.choose:checked').length;
			if(b==c){
			$('#allChoose').prop('checked',true);
			}else{
			$('#allChoose').prop('checked',false);	
			}
			})
		
		//删除
		console.log($('button:gt(2)'))
		var bt=$('button:gt(2)')
		console.log(bt[0])
		
				$('button:gt(2)').click(function(){
					console.log('哈哈')
					$(this).parent().parent().remove();
				})
		
	})
	
</script>
	
